<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‚¬ì´íŠ¸ ì´ë™ ì•ˆë‚´</title>

    <style>
        /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ ë¦¬ì…‹ ë° í°íŠ¸ ì„¤ì • */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f4f6f8;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: #333;
        }

        /* ì¹´ë“œ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
        .redirect-card {
            background-color: #fff;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            text-align: center;
            max-width: 400px;
            width: 90%;
        }

        /* ì•„ì´ì½˜ (ì´ëª¨ì§€ í™œìš©) */
        .icon {
            font-size: 48px;
            margin-bottom: 20px;
            display: inline-block;
            animation: bounce 2s infinite;
        }

        /* ì œëª© ë° ë³¸ë¬¸ ìŠ¤íƒ€ì¼ */
        h1 {
            font-size: 24px;
            margin-bottom: 16px;
            color: #1a202c;
        }
        p {
            font-size: 16px;
            line-height: 1.5;
            color: #4a5568;
            margin-bottom: 24px;
        }

        /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ì˜ ë§í¬ */
        .btn-redirect {
            display: inline-block;
            padding: 12px 24px;
            background-color: #3182ce;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            transition: background-color 0.2s;
        }
        .btn-redirect:hover {
            background-color: #2c5282;
        }

        /* ë¡œë”© ìŠ¤í”¼ë„ˆ ì• ë‹ˆë©”ì´ì…˜ */
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3182ce;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        /* ì• ë‹ˆë©”ì´ì…˜ í‚¤í”„ë ˆì„ */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
            40% {transform: translateY(-10px);}
            60% {transform: translateY(-5px);}
        }
    </style>
</head>
<body>

    <div class="redirect-card">
        <div class="icon">ğŸš€</div>
        <h1>ì‚¬ì´íŠ¸ê°€ ì´ë™ë˜ì—ˆìŠµë‹ˆë‹¤.</h1>
        <p id="message">ë” ë‚˜ì€ ì„œë¹„ìŠ¤ë¥¼ ìœ„í•´ ìƒˆë¡œìš´ ì£¼ì†Œë¡œ ì´ì „í–ˆìŠµë‹ˆë‹¤.
        
        <div id="btn-container">
            <a href="https://tripsketch.co/" class="btn-redirect" id="redirect-btn">ì§€ê¸ˆ ì´ë™í•˜ê¸°</a>
        </div>
        
        <p id="inapp-guide" style="display:none; font-size:14px; color:#718096; margin-top:16px;">
            ìœ„ ë²„íŠ¼ì´ ì‘ë™í•˜ì§€ ì•Šìœ¼ë©´<br>
            <strong>ìš°ì¸¡ ìƒë‹¨ ë©”ë‰´(â‹®) â†’ "ë¸Œë¼ìš°ì €ë¡œ ì—´ê¸°"</strong>ë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”.
        </p>
    </div>

    <script>
        (function() {
            var targetUrl = "https://tripsketch.co/";
            var ua = navigator.userAgent || navigator.vendor || window.opera;
            
            // ì¸ì•± ë¸Œë¼ìš°ì € ê°ì§€
            function isInAppBrowser() {
                var inAppPatterns = [
                    /KAKAOTALK/i,
                    /NAVER/i,
                    /FBAN|FBAV/i,           // Facebook
                    /Instagram/i,
                    /Line\//i,
                    /Twitter/i,
                    /LinkedIn/i,            // LinkedIn
                    /SamsungBrowser\/.*CrossApp/i,
                    /NAVER\(inapp/i,
                    /DaumApps/i,
                    /everytimeApp/i,
                    /CarrotMarket/i,        // ë‹¹ê·¼ë§ˆì¼“
                    /ZumApp/i
                ];
                
                for (var i = 0; i < inAppPatterns.length; i++) {
                    if (inAppPatterns[i].test(ua)) return true;
                }
                
                // iOS WebView ê°ì§€
                if (/iPhone|iPad|iPod/.test(ua)) {
                    if (!/Safari/.test(ua) && /AppleWebKit/.test(ua)) return true;
                }
                
                // Android WebView ê°ì§€
                if (/Android/.test(ua)) {
                    if (/wv/.test(ua) || (/Version\/[\d.]+/.test(ua) && /Chrome/.test(ua))) return true;
                }
                
                return false;
            }
            
            // ì¹´ì¹´ì˜¤í†¡ ê°ì§€
            function isKakaoTalk() {
                return /KAKAOTALK/i.test(ua);
            }
            
            // Android ê°ì§€
            function isAndroid() {
                return /Android/i.test(ua);
            }
            
            // iOS ê°ì§€
            function isIOS() {
                return /iPhone|iPad|iPod/i.test(ua);
            }
            
            var messageEl = document.getElementById('message');
            var btnEl = document.getElementById('redirect-btn');
            var guideEl = document.getElementById('inapp-guide');
            
            if (isInAppBrowser()) {
                // ì¸ì•± ë¸Œë¼ìš°ì €ì¸ ê²½ìš°
                messageEl.innerHTML = 'ë” ë‚˜ì€ ì„œë¹„ìŠ¤ë¥¼ ìœ„í•´ ìƒˆë¡œìš´ ì£¼ì†Œë¡œ ì´ì „í–ˆìŠµë‹ˆë‹¤.<br>ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ ì´ë™í•´ ì£¼ì„¸ìš”.';
                guideEl.style.display = 'block';
                
                btnEl.onclick = function(e) {
                    e.preventDefault();
                    
                    if (isKakaoTalk()) {
                        // ì¹´ì¹´ì˜¤í†¡: ì™¸ë¶€ ë¸Œë¼ìš°ì €ë¡œ ì—´ê¸°
                        window.location.href = 'kakaotalk://web/openExternal?url=' + encodeURIComponent(targetUrl);
                    } else if (isAndroid()) {
                        // Android: Intentë¥¼ í†µí•´ Chromeìœ¼ë¡œ ì—´ê¸° ì‹œë„
                        var intentUrl = 'intent://' + targetUrl.replace(/https?:\/\//, '') + 
                            '#Intent;scheme=https;package=com.android.chrome;end';
                        window.location.href = intentUrl;
                        
                        // Intent ì‹¤íŒ¨ ì‹œ ì¼ë°˜ ì´ë™
                        setTimeout(function() {
                            window.location.href = targetUrl;
                        }, 1000);
                    } else if (isIOS()) {
                        // iOS: Safarië¡œ ì—´ê¸° ì‹œë„
                        // ìƒˆ ì°½ìœ¼ë¡œ ì—´ê¸° ì‹œë„ (ì¼ë¶€ ì¸ì•±ì—ì„œ Safarië¡œ ì—´ë¦¼)
                        var newWindow = window.open(targetUrl, '_blank');
                        if (!newWindow || newWindow.closed || typeof newWindow.closed == 'undefined') {
                            // íŒì—… ì°¨ë‹¨ëœ ê²½ìš° ì¼ë°˜ ì´ë™
                            window.location.href = targetUrl;
                        }
                    } else {
                        // window.location.href = targetUrl;
                    }
                };
            } else {
                // ì¼ë°˜ ë¸Œë¼ìš°ì €: ë°”ë¡œ ì´ë™
                // window.location.href = targetUrl;
            }
        })();
    </script>

</body>
</html>